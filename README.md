[![Build Status](https://travis-ci.org/Serabass/biner.svg?branch=master)](https://travis-ci.org/Serabass/biner)

_документ устарел, обновится позже, когда проработаю основные детали_

# Biner

**Biner** - это моя первая попытка разработать язык.
Назвать это языком программирования пока язык не поворачивается (уж простите за тавтологию), однако фишки вроде описания структур и импортов уже реализованы.

## Для чего он нужен

**Biner** - это, в первую очередь, язык описания структур двоичных данных.

На текущий момент имеет встроенные основные типы:

- int8
- int16
- int32
- uint8
- uint16
- uint32
- float32
- float64
- char как аналог int8
- некоторые строковые структуры (опишу их позже)

## Демо

Все примеры буду складывать в папке [examples](./examples)

## Где он может пригодиться

Я задумывал **Biner** как инструмент для описания и разбора двоичных блоков памяти, коими могут быть области в оперативной памяти или файлах.

Предположим, у нас есть три байта с данными о красном цвете RGB: `FF 00 00`. Мы можем описать для него простую структуру:

```go
struct rgb {
  r: int8;
  g: int8;
  b: int8;
}

```

Таким образом, каждый из полученных байт считается один за другим и пропишется в нужные поля на выходе. А на выходе мы получим JSON-объект:

```json
{
  "r": 255,
  "g": 0,
  "b": 0
}
```

## Процесс разработки
Я предлагаю использовать подход [TDD](https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5) с использованием Jest и его замечательного `--watch`.

## Что под капотом
* [Typescript](https://www.typescriptlang.org/)
* [TSLint](https://palantir.github.io/tslint/)
* [Jest](https://jestjs.io/)
* [PEGjs](https://pegjs.org/)
* 

Пока что я использую расширение `.go` для примеров, потому как его подсветка очень близка к концепции разрабатываемого языка.

## Kaitai

Есть аналогичный проект: [Kaitai](http://kaitai.io/), однако там структуры описываются на языке YAML. Этот язык тоже хорош, да и проект довольно объёмный:
 * Множество готовых примеров (некоторые из которых, я, к слову, у них подсмотрел)
 * Онлайн-песочница
 * Хорошая документация
 * Возможность генерировать парсеры для разных языков (это вообще огонь)

Есть предположение, что стоит устроить с ними коллаборацию и обменяться, например конвертерами форматов (Biner <-> Kaitai). Ну и получить опыт у вполне состоявшегося проекта. YAML, конечно, хорош в определённых задачах, но лично мне кажется, что он слишком громоздок для описания таких структур. В случае же Biner хочется сделать максимально человекочитаемый язык, с которым будет проще разобраться программисту, владеющему любым Си-подобным языком (Biner всё же можно считать Си-подобным, я так полагаю).


## Что есть

### Вложенность структур

_описать_

### Модульность

_описать_

### Константы

_описать_

### Директивы

_описать_

## Что планируется

### Более гибкая работа со скалярными значениями

Сейчас всё довольно топорно сделано.

### Перегрузка типов

_описать_

### Запись блоков памяти обратно в буфер

Сейчас **Biner** умеет только читать.

_описать_

### Плагины для IDE

### Линтеры

### Варианты названия

* BiSt = от Binary Structurization (созвучно с Beast)


https://www.opennet.ru/opennews/art.shtml?num=46244
